import{n as z,x as kt,s as X,o as _t,y as ft,i as yt,r as wt,c as Tt}from"../chunks/scheduler.C-T2b6Ue.js";import{F as bt,f as k,G as Ct,S as Z,i as K,e as R,c as P,n as j,h as q,s as L,v as x,b as S,g as O,w as tt,m as V,j as r,x as et,t as st,y as lt,z as nt,a as A,d as G,k as I,C as it,p as Q}from"../chunks/index.CXrps5Uo.js";import{e as at,u as vt,d as Et,f as Rt}from"../chunks/each.DSDSCf_O.js";import{w as Pt}from"../chunks/index.Bs04t41s.js";const gt=typeof window<"u";let Dt=gt?()=>window.performance.now():()=>Date.now(),ct=gt?s=>requestAnimationFrame(s):z;const Y=new Set;function $t(s){Y.forEach(t=>{t.c(s)||(Y.delete(t),t.f())}),Y.size!==0&&ct($t)}function Nt(s){let t;return Y.size===0&&ct($t),{promise:new Promise(e=>{Y.add(t={c:s,f:e})}),abort(){Y.delete(t)}}}const rt=new Map;let ot=0;function jt(s){let t=5381,e=s.length;for(;e--;)t=(t<<5)-t^s.charCodeAt(e);return t>>>0}function Mt(s,t){const e={stylesheet:Ct(t),rules:{}};return rt.set(s,e),e}function St(s,t,e,n,l,i,h,a=0){const c=16.666/n;let f=`{
`;for(let C=0;C<=1;C+=c){const d=t+(e-t)*i(C);f+=C*100+`%{${h(d,1-d)}}
`}const v=f+`100% {${h(e,1-e)}}
}`,m=`__svelte_${jt(v)}_${a}`,D=bt(s),{stylesheet:g,rules:u}=rt.get(D)||Mt(D,s);u[m]||(u[m]=!0,g.insertRule(`@keyframes ${m} ${v}`,g.cssRules.length));const y=s.style.animation||"";return s.style.animation=`${y?`${y}, `:""}${m} ${n}ms linear ${l}ms 1 both`,ot+=1,m}function Ht(s,t){const e=(s.style.animation||"").split(", "),n=e.filter(t?i=>i.indexOf(t)<0:i=>i.indexOf("__svelte")===-1),l=e.length-n.length;l&&(s.style.animation=n.join(", "),ot-=l,ot||Bt())}function Bt(){ct(()=>{ot||(rt.forEach(s=>{const{ownerNode:t}=s.stylesheet;t&&k(t)}),rt.clear())})}function At(s,t,e,n){if(!t)return z;const l=s.getBoundingClientRect();if(t.left===l.left&&t.right===l.right&&t.top===l.top&&t.bottom===l.bottom)return z;const{delay:i=0,duration:h=300,easing:a=kt,start:c=Dt()+i,end:f=c+h,tick:v=z,css:m}=e(s,{from:t,to:l},n);let D=!0,g=!1,u;function y(){m&&(u=St(s,0,1,h,i,a,m)),i||(g=!0)}function C(){m&&Ht(s,u),D=!1}return Nt(d=>{if(!g&&d>=c&&(g=!0),g&&d>=f&&(v(1,0),C()),!D)return!1;if(g){const E=d-c,T=0+1*a(E/h);v(T,1-T)}return!0}),y(),v(0,1),C}function Gt(s){const t=getComputedStyle(s);if(t.position!=="absolute"&&t.position!=="fixed"){const{width:e,height:n}=t,l=s.getBoundingClientRect();s.style.position="absolute",s.style.width=e,s.style.height=n,Lt(s,l)}}function Lt(s,t){const e=s.getBoundingClientRect();if(t.left!==e.left||t.top!==e.top){const n=getComputedStyle(s),l=n.transform==="none"?"":n.transform;s.style.transform=`${l} translate(${t.left-e.left}px, ${t.top-e.top}px)`}}function Ot(s){let t;return{c(){t=R("input"),this.h()},l(e){t=P(e,"INPUT",{type:!0,max:!0,class:!0}),this.h()},h(){j(t,"type","date"),t.value=s[0],j(t,"max",s[0]),j(t,"class","svelte-9dgicr")},m(e,n){q(e,t,n)},p:z,i:z,o:z,d(e){e&&k(t)}}}function It(s){return[new Date().toISOString().split("T")[0]]}class Wt extends Z{constructor(t){super(),K(this,t,It,Ot,X,{})}}function qt(s){let t,e,n,l,i,h,a="검색",c;return l=new Wt({}),{c(){t=R("div"),e=R("input"),n=L(),x(l.$$.fragment),i=L(),h=R("button"),h.textContent=a,this.h()},l(f){t=P(f,"DIV",{});var v=S(t);e=P(v,"INPUT",{type:!0}),n=O(v),tt(l.$$.fragment,v),i=O(v),h=P(v,"BUTTON",{type:!0,"data-svelte-h":!0}),V(h)!=="svelte-60hs3g"&&(h.textContent=a),v.forEach(k),this.h()},h(){j(e,"type","text"),j(h,"type","button")},m(f,v){q(f,t,v),r(t,e),r(t,n),et(l,t,null),r(t,i),r(t,h),c=!0},p:z,i(f){c||(st(l.$$.fragment,f),c=!0)},o(f){lt(l.$$.fragment,f),c=!1},d(f){f&&k(t),nt(l)}}}class zt extends Z{constructor(t){super(),K(this,t,null,qt,X,{})}}function ut(s,t,e){const n=s.slice();return n[1]=t[e],n[3]=e,n}function ht(s){let t,e=s[0].teamRed[s[3]].nickname+"",n,l,i,h=s[0].teamRed[s[3]].summonerName+"",a,c,f,v=s[0].teamRed[s[3]].champion+"",m,D,g,u=s[0].teamRed[s[3]].kills+"",y,C,d=s[0].teamRed[s[3]].deaths+"",E,T,w=s[0].teamRed[s[3]].assists+"",N;return{c(){t=R("td"),n=A(e),l=L(),i=R("td"),a=A(h),c=L(),f=R("td"),m=A(v),D=L(),g=R("td"),y=A(u),C=A("/"),E=A(d),T=A("/"),N=A(w),this.h()},l(o){t=P(o,"TD",{class:!0});var _=S(t);n=G(_,e),_.forEach(k),l=O(o),i=P(o,"TD",{class:!0});var H=S(i);a=G(H,h),H.forEach(k),c=O(o),f=P(o,"TD",{class:!0});var B=S(f);m=G(B,v),B.forEach(k),D=O(o),g=P(o,"TD",{class:!0});var b=S(g);y=G(b,u),C=G(b,"/"),E=G(b,d),T=G(b,"/"),N=G(b,w),b.forEach(k),this.h()},h(){j(t,"class","svelte-fnppap"),j(i,"class","svelte-fnppap"),j(f,"class","svelte-fnppap"),j(g,"class","svelte-fnppap")},m(o,_){q(o,t,_),r(t,n),q(o,l,_),q(o,i,_),r(i,a),q(o,c,_),q(o,f,_),r(f,m),q(o,D,_),q(o,g,_),r(g,y),r(g,C),r(g,E),r(g,T),r(g,N)},p(o,_){_&1&&e!==(e=o[0].teamRed[o[3]].nickname+"")&&I(n,e),_&1&&h!==(h=o[0].teamRed[o[3]].summonerName+"")&&I(a,h),_&1&&v!==(v=o[0].teamRed[o[3]].champion+"")&&I(m,v),_&1&&u!==(u=o[0].teamRed[o[3]].kills+"")&&I(y,u),_&1&&d!==(d=o[0].teamRed[o[3]].deaths+"")&&I(E,d),_&1&&w!==(w=o[0].teamRed[o[3]].assists+"")&&I(N,w)},d(o){o&&(k(t),k(l),k(i),k(c),k(f),k(D),k(g))}}}function pt(s,t){let e,n,l=t[1].nickname+"",i,h,a,c=t[1].summonerName+"",f,v,m,D=t[1].champion+"",g,u,y,C=t[1].kills+"",d,E,T=t[1].deaths+"",w,N,o=t[1].assists+"",_,H,B,b,$=t[0].teamRed[t[3]]&&ht(t);return{key:s,first:null,c(){e=R("tr"),n=R("td"),i=A(l),h=L(),a=R("td"),f=A(c),v=L(),m=R("td"),g=A(D),u=L(),y=R("td"),d=A(C),E=A("/"),w=A(T),N=A("/"),_=A(o),H=L(),$&&$.c(),B=L(),this.h()},l(M){e=P(M,"TR",{class:!0});var p=S(e);n=P(p,"TD",{class:!0});var U=S(n);i=G(U,l),U.forEach(k),h=O(p),a=P(p,"TD",{class:!0});var W=S(a);f=G(W,c),W.forEach(k),v=O(p),m=P(p,"TD",{class:!0});var J=S(m);g=G(J,D),J.forEach(k),u=O(p),y=P(p,"TD",{class:!0});var F=S(y);d=G(F,C),E=G(F,"/"),w=G(F,T),N=G(F,"/"),_=G(F,o),F.forEach(k),H=O(p),$&&$.l(p),B=O(p),p.forEach(k),this.h()},h(){j(n,"class","svelte-fnppap"),j(a,"class","svelte-fnppap"),j(m,"class","svelte-fnppap"),j(y,"class","svelte-fnppap"),j(e,"class",b=ft(t[0].winningTeam==="Purple"?"victory":"defeat")+" svelte-fnppap"),this.first=e},m(M,p){q(M,e,p),r(e,n),r(n,i),r(e,h),r(e,a),r(a,f),r(e,v),r(e,m),r(m,g),r(e,u),r(e,y),r(y,d),r(y,E),r(y,w),r(y,N),r(y,_),r(e,H),$&&$.m(e,null),r(e,B)},p(M,p){t=M,p&1&&l!==(l=t[1].nickname+"")&&I(i,l),p&1&&c!==(c=t[1].summonerName+"")&&I(f,c),p&1&&D!==(D=t[1].champion+"")&&I(g,D),p&1&&C!==(C=t[1].kills+"")&&I(d,C),p&1&&T!==(T=t[1].deaths+"")&&I(w,T),p&1&&o!==(o=t[1].assists+"")&&I(_,o),t[0].teamRed[t[3]]?$?$.p(t,p):($=ht(t),$.c(),$.m(e,B)):$&&($.d(1),$=null),p&1&&b!==(b=ft(t[0].winningTeam==="Purple"?"victory":"defeat")+" svelte-fnppap")&&j(e,"class",b)},d(M){M&&k(e),$&&$.d()}}}function Ft(s){let t,e,n,l,i,h=s[0].winningTeam==="Purple"?"(승리)":"",a,c,f,v,m=s[0].winningTeam==="Red"?"(승리)":"",D,g,u,y='<th class="svelte-fnppap">닉네임</th> <th class="svelte-fnppap">이름</th> <th class="svelte-fnppap">챔피언</th> <th class="svelte-fnppap">KDA</th> <th class="svelte-fnppap">닉네임</th> <th class="svelte-fnppap">이름</th> <th class="svelte-fnppap">챔피언</th> <th class="svelte-fnppap">KDA</th>',C,d,E=[],T=new Map,w=at(s[0].teamPurple);const N=o=>o[1].id;for(let o=0;o<w.length;o+=1){let _=ut(s,w,o),H=N(_);T.set(H,E[o]=pt(H,_))}return{c(){t=R("table"),e=R("thead"),n=R("tr"),l=R("th"),i=A("퍼플 팀 "),a=A(h),c=L(),f=R("th"),v=A("레드 팀 "),D=A(m),g=L(),u=R("tr"),u.innerHTML=y,C=L(),d=R("tbody");for(let o=0;o<E.length;o+=1)E[o].c();this.h()},l(o){t=P(o,"TABLE",{class:!0});var _=S(t);e=P(_,"THEAD",{});var H=S(e);n=P(H,"TR",{});var B=S(n);l=P(B,"TH",{class:!0,colspan:!0});var b=S(l);i=G(b,"퍼플 팀 "),a=G(b,h),b.forEach(k),c=O(B),f=P(B,"TH",{class:!0,colspan:!0});var $=S(f);v=G($,"레드 팀 "),D=G($,m),$.forEach(k),B.forEach(k),g=O(H),u=P(H,"TR",{"data-svelte-h":!0}),V(u)!=="svelte-6h8kpq"&&(u.innerHTML=y),H.forEach(k),C=O(_),d=P(_,"TBODY",{class:!0});var M=S(d);for(let p=0;p<E.length;p+=1)E[p].l(M);M.forEach(k),_.forEach(k),this.h()},h(){j(l,"class","team-purple svelte-fnppap"),j(l,"colspan","4"),j(f,"class","team-red svelte-fnppap"),j(f,"colspan","4"),j(d,"class","svelte-fnppap"),j(t,"class","svelte-fnppap")},m(o,_){q(o,t,_),r(t,e),r(e,n),r(n,l),r(l,i),r(l,a),r(n,c),r(n,f),r(f,v),r(f,D),r(e,g),r(e,u),r(t,C),r(t,d);for(let H=0;H<E.length;H+=1)E[H]&&E[H].m(d,null)},p(o,[_]){_&1&&h!==(h=o[0].winningTeam==="Purple"?"(승리)":"")&&I(a,h),_&1&&m!==(m=o[0].winningTeam==="Red"?"(승리)":"")&&I(D,m),_&1&&(w=at(o[0].teamPurple),E=vt(E,_,N,1,o,w,T,d,Et,pt,null,ut))},i:z,o:z,d(o){o&&k(t);for(let _=0;_<E.length;_+=1)E[_].d()}}}function Ut(s,t,e){let n={teamPurple:[],teamRed:[],winningTeam:""};return _t(async()=>{var f;const i=await(await fetch("/api/recentMatch")).json(),h=i.filter(v=>v.teamColor==="Purple"),a=i.filter(v=>v.teamColor==="Red"),c=((f=i.find(v=>v.winning===1))==null?void 0:f.teamColor)==="Purple"?"Purple":"Red";e(0,n={...n,teamPurple:h,teamRed:a,winningTeam:c})}),[n]}class Vt extends Z{constructor(t){super(),K(this,t,Ut,Ft,X,{})}}function Yt(s){const t=s-1;return t*t*t+1}function Jt(s,{from:t,to:e},n={}){const l=getComputedStyle(s),i=l.transform==="none"?"":l.transform,[h,a]=l.transformOrigin.split(" ").map(parseFloat),c=t.left+t.width*h/e.width-(e.left+h),f=t.top+t.height*a/e.height-(e.top+a),{delay:v=0,duration:m=g=>Math.sqrt(g)*120,easing:D=Yt}=n;return{delay:v,duration:yt(m)?m(Math.sqrt(c*c+f*f)):m,easing:D,css:(g,u)=>{const y=u*c,C=u*f,d=g+u*t.width/e.width,E=g+u*t.height/e.height;return`transform: ${i} translate(${y}px, ${C}px) scale(${d}, ${E});`}}}function dt(s,t,e){const n=s.slice();return n[11]=t[e],n}function mt(s,t){let e,n,l=t[11].PlayedGame+"",i,h,a,c=t[11].Nickname+"",f,v,m,D=t[11].Name+"",g,u,y,C=t[11].MostChampion+"",d,E,T,w=t[11].WinningPercentage+"",N,o,_,H=z;return{key:s,first:null,c(){e=R("tr"),n=R("td"),i=A(l),h=L(),a=R("td"),f=A(c),v=L(),m=R("td"),g=A(D),u=L(),y=R("td"),d=A(C),E=L(),T=R("td"),N=A(w),o=L(),this.h()},l(B){e=P(B,"TR",{});var b=S(e);n=P(b,"TD",{class:!0});var $=S(n);i=G($,l),$.forEach(k),h=O(b),a=P(b,"TD",{class:!0});var M=S(a);f=G(M,c),M.forEach(k),v=O(b),m=P(b,"TD",{class:!0});var p=S(m);g=G(p,D),p.forEach(k),u=O(b),y=P(b,"TD",{class:!0});var U=S(y);d=G(U,C),U.forEach(k),E=O(b),T=P(b,"TD",{class:!0});var W=S(T);N=G(W,w),W.forEach(k),o=O(b),b.forEach(k),this.h()},h(){j(n,"class","svelte-2h36pj"),j(a,"class","svelte-2h36pj"),j(m,"class","svelte-2h36pj"),j(y,"class","svelte-2h36pj"),j(T,"class","svelte-2h36pj"),this.first=e},m(B,b){q(B,e,b),r(e,n),r(n,i),r(e,h),r(e,a),r(a,f),r(e,v),r(e,m),r(m,g),r(e,u),r(e,y),r(y,d),r(e,E),r(e,T),r(T,N),r(e,o)},p(B,b){t=B,b&1&&l!==(l=t[11].PlayedGame+"")&&I(i,l),b&1&&c!==(c=t[11].Nickname+"")&&I(f,c),b&1&&D!==(D=t[11].Name+"")&&I(g,D),b&1&&C!==(C=t[11].MostChampion+"")&&I(d,C),b&1&&w!==(w=t[11].WinningPercentage+"")&&I(N,w)},r(){_=e.getBoundingClientRect()},f(){Gt(e),H()},a(){H(),H=At(e,_,Jt,{duration:400})},d(B){B&&k(e)}}}function Qt(s){let t,e,n,l,i,h="PlayedGame",a,c,f="Nickname",v,m,D="Name",g,u,y="Most Champion",C,d,E="WinningPercentage",T,w,N=[],o=new Map,_,H,B=at(s[0]);const b=$=>$[11].id;for(let $=0;$<B.length;$+=1){let M=dt(s,B,$),p=b(M);o.set(p,N[$]=mt(p,M))}return{c(){t=R("div"),e=R("table"),n=R("thead"),l=R("tr"),i=R("th"),i.textContent=h,a=L(),c=R("th"),c.textContent=f,v=L(),m=R("th"),m.textContent=D,g=L(),u=R("th"),u.textContent=y,C=L(),d=R("th"),d.textContent=E,T=L(),w=R("tbody");for(let $=0;$<N.length;$+=1)N[$].c();this.h()},l($){t=P($,"DIV",{style:!0});var M=S(t);e=P(M,"TABLE",{class:!0});var p=S(e);n=P(p,"THEAD",{});var U=S(n);l=P(U,"TR",{});var W=S(l);i=P(W,"TH",{class:!0,"data-svelte-h":!0}),V(i)!=="svelte-1vkpmen"&&(i.textContent=h),a=O(W),c=P(W,"TH",{class:!0,"data-svelte-h":!0}),V(c)!=="svelte-89yl7b"&&(c.textContent=f),v=O(W),m=P(W,"TH",{class:!0,"data-svelte-h":!0}),V(m)!=="svelte-voei9z"&&(m.textContent=D),g=O(W),u=P(W,"TH",{class:!0,"data-svelte-h":!0}),V(u)!=="svelte-2ur1b5"&&(u.textContent=y),C=O(W),d=P(W,"TH",{class:!0,"data-svelte-h":!0}),V(d)!=="svelte-60euv5"&&(d.textContent=E),W.forEach(k),U.forEach(k),T=O(p),w=P(p,"TBODY",{});var J=S(w);for(let F=0;F<N.length;F+=1)N[F].l(J);J.forEach(k),p.forEach(k),M.forEach(k),this.h()},h(){j(i,"class","svelte-2h36pj"),j(c,"class","svelte-2h36pj"),j(m,"class","svelte-2h36pj"),j(u,"class","svelte-2h36pj"),j(d,"class","svelte-2h36pj"),j(e,"class","svelte-2h36pj"),it(t,"overflow-x","auto"),it(t,"overflow-y","auto"),it(t,"max-height","500px")},m($,M){q($,t,M),r(t,e),r(e,n),r(n,l),r(l,i),r(l,a),r(l,c),r(l,v),r(l,m),r(l,g),r(l,u),r(l,C),r(l,d),r(e,T),r(e,w);for(let p=0;p<N.length;p+=1)N[p]&&N[p].m(w,null);_||(H=[Q(i,"click",s[3]),Q(c,"click",s[4]),Q(m,"click",s[5]),Q(u,"click",s[6]),Q(d,"click",s[7])],_=!0)},p($,[M]){if(M&1){B=at($[0]);for(let p=0;p<N.length;p+=1)N[p].r();N=vt(N,M,b,1,$,B,o,w,Rt,mt,null,dt);for(let p=0;p<N.length;p+=1)N[p].a()}},i:z,o:z,d($){$&&k(t);for(let M=0;M<N.length;M+=1)N[M].d();_=!1,wt(H)}}}function Xt(s,t,e){let n;const l=Pt([]);Tt(s,l,u=>e(0,n=u)),_t(async()=>{try{const y=await(await fetch("/api/loadLeaderboard")).json();console.log(y);const C=y.map((d,E)=>({id:E,PlayedGame:d.playedGames,Nickname:d.nickname,Name:d.summonerName,MostChampion:d.mostChampion,WinningPercentage:d.winningPercentage}));l.set(C)}catch(u){console.error("Error fetching data:",u)}});let h="PlayedGame",a=!0;function c(u){h===u?a=!a:a=!0,h=u,l.update(y=>[...y].sort((d,E)=>{let T=d[u],w=E[u];return u==="WinningPercentage"&&(T=parseFloat(T),w=parseFloat(w)),!isNaN(T)&&!isNaN(w)?a?T-w:w-T:(T=(T==null?void 0:T.toString().toLowerCase())??"",w=(w==null?void 0:w.toString().toLowerCase())??"",T<w?a?-1:1:T>w?a?1:-1:0)}))}return[n,l,c,()=>c("PlayedGame"),()=>c("Nickname"),()=>c("Name"),()=>c("MostChampion"),()=>c("WinningPercentage")]}class Zt extends Z{constructor(t){super(),K(this,t,Xt,Qt,X,{})}}function Kt(s){let t,e,n,l,i,h;return t=new zt({}),n=new Vt({}),i=new Zt({}),{c(){x(t.$$.fragment),e=L(),x(n.$$.fragment),l=L(),x(i.$$.fragment)},l(a){tt(t.$$.fragment,a),e=O(a),tt(n.$$.fragment,a),l=O(a),tt(i.$$.fragment,a)},m(a,c){et(t,a,c),q(a,e,c),et(n,a,c),q(a,l,c),et(i,a,c),h=!0},p:z,i(a){h||(st(t.$$.fragment,a),st(n.$$.fragment,a),st(i.$$.fragment,a),h=!0)},o(a){lt(t.$$.fragment,a),lt(n.$$.fragment,a),lt(i.$$.fragment,a),h=!1},d(a){a&&(k(e),k(l)),nt(t,a),nt(n,a),nt(i,a)}}}class le extends Z{constructor(t){super(),K(this,t,null,Kt,X,{})}}export{le as component};
